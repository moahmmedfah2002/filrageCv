<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Liste des offres d'emploi</title>
		<script
			src="https://kit.fontawesome.com/306bbca739.js"
			crossorigin="anonymous"
		></script>
		<style>
			* {
				padding: 0;
				margin: 0;
				box-sizing: border-box;
			}
			*::-webkit-scrollbar {
				width: 10px;
				background: #ccc;
			}
			*::-webkit-scrollbar-thumb {
				background: #f4f4f4;
				border-radius: 10px;
			}

			body {
				font-family: Arial, sans-serif;
				background-color: #f4f4f4;
			}

			.main {
				width: 100%;
				max-width: 2000px;
				margin-inline: auto;
				margin-bottom: 20px;

				@media screen and (width <= 640px) {
					margin-bottom: 10px;
				}

				header {
					display: flex;
					align-items: center;
					justify-content: center;

					background: rgba(204, 204, 204, 0.6);
					color: #fff;
					padding: 1rem;

					position: relative;
					width: 100%;
					aspect-ratio: 3 / 1;
					min-height: 300px;
					overflow: hidden;

					.header-image {
						position: absolute;
						left: 0;
						top: 0;
						width: 100%;
						height: 100%;
						object-fit: cover;
						z-index: -1;
					}

					.search-bar {
						background: #fff;
						border-radius: 20px;
						width: 100%;
						max-width: 500px;

						display: flex;
						align-items: center;

						.search-bar-input {
							font-weight: bold;
							padding-block: 10px;
							padding-left: 10px;
							border-radius: 20px;
							border: none;
							outline: none;
							flex: 1;
						}

						.search-bar-button {
							background: transparent;
							padding: 10px;
							border: 0;
							outline: none;
							cursor: pointer;

							display: grid;
							place-items: center;

							i {
								font-size: 1rem;
							}
						}
					}
				}

				.job-offers-header {
					margin-inline: 20px;
					margin-top: 2rem;
					margin-bottom: 0.5rem;
					color: #007bff;
					text-decoration: underline;

					@media screen and (width <= 640px) {
						margin-inline: 10px;
					}
				}

				.job-offers-container {
					display: grid;
					gap: 1rem;
					grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
					margin-inline: 20px;

					@media screen and (width <= 640px) {
						margin-inline: 10px;
					}

					@media screen and (width <= 500px) {
						grid-template-columns: 1fr;
					}

					.offer {
						display: flex;
						flex-direction: column;
						gap: 0.75rem;
						border: 1px solid rgba(128, 128, 128, 0.8);
						border-radius: 0.5rem;
						padding: 1rem;
						font-size: 1.25rem;
						background: #fff;
						box-shadow: rgba(0, 0, 0, 0.1) 0px 10px 15px -3px,
							rgba(0, 0, 0, 0.05) 0px 4px 6px -2px;

						.offer-title {
							color: #007bff;
							font-size: 20px;
							font-weight: bold;
						}

						.offer-description {
							font-size: 1rem;
						}

						.offer-skills {
							display: flex;
							align-items: center;
							flex-wrap: wrap;
							gap: 0.5rem;

							strong {
								font-size: 1rem;
							}

							.skills-container {
								display: flex;
								flex-wrap: wrap;
								gap: 0.5rem;

								small {
									background: #f4f4f4;
									border: 1px #ccc solid;
									padding: 0.25rem 0.75rem;
									font-size: 14px;
									border-radius: 1rem;
								}
							}
						}

						.offer-apply-button {
							background: #007bff;
							color: #fff;
							border: none;
							border-radius: 5px;
							padding: 0.5rem 1.5rem;
							font-size: 1rem;
							cursor: pointer;
							transition: background 0.3s ease;
							width: max-content;
							margin-top: auto;

							&:hover {
								background: #0056b3;
							}
						}
					}
				}
			}
		</style>
	</head>
	<body>
		<section class="main">
			<header>
				<img
					src="../static/assets/img/welcoming-banner.jpg"
					alt="Welcoming Person"
					class="header-image"
				/>
				<form
					action="{% url 'search-job-offers' %}"
					method="GET"
					class="search-bar"
				>
					<input
						class="search-bar-input"
						type="text"
						name="search"
						value="{{ request.GET.search }}"
						placeholder="Recherche d'offres"
					/>
					<button type="submit" class="search-bar-button">
						<i class="fa-solid fa-magnifying-glass"></i>
					</button>
				</form>
			</header>

			<h1 class="job-offers-header">Liste des offres d'emploi</h1>
			<div class="job-offers-container">
				{% for offer in data %}
				<div class="offer">
					<h2 class="offer-title">{{ offer.title }}</h2>
					<p class="offer-description">
						<strong>Description: </strong>
						{{ offer.description }}
					</p>
					<div class="offer-skills">
						<strong>Exigences: </strong>
						<div class="skills-container">
							{% for skill in offer.skills %}
							<small>{{ skill }}</small>
							{% endfor %}
						</div>
					</div>
					<button class="offer-apply-button">Postuler</button>
				</div>
				{% empty %}
				<strong class="no-offers">No offers Yet.</strong>
				{% endfor %}
			</div>
		</section>
	</body>
</html>
